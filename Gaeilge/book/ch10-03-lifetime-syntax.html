<!DOCTYPE HTML>
<html lang="ga" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Tagairtí a Bhailíochtú le Saoil - An Teanga Ríomhchláraithe Rust</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/css/ferris.css">
        <link rel="stylesheet" href="src/css/2018-edition.css">
        <link rel="stylesheet" href="src/css/semantic-notes.css">
        <link rel="stylesheet" href="src/css/listing.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">An Teanga Ríomhchláraithe Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/aindriu80/rust-lang/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="tagairtí-a-bhailíochtú-le-saoil"><a class="header" href="#tagairtí-a-bhailíochtú-le-saoil">Tagairtí a Bhailíochtú le Saoil</a></h2>
<p>Is cineál cineálach eile iad saolré atá in úsáid againn cheana féin. Ina ionad sin
ná a chinntiú go bhfuil an t-iompar a theastaíonn uainn ag cineál, cinntíonn an saolré sin
tá tagairtí bailí chomh fada agus a theastaíonn uainn iad a bheith.</p>
<p>Sonraí amháin nár phléigh muid sna <a href="ch04-02-references-and-borrowing.html#references-and-borrowing">“Tagairtí agus
Iasachtaí a fháil”</a><!-- neamhaird a dhéanamh ar --> tá an roinn i gCaibidil 4
go bhfuil <em>lifetime</em> ag gach tagairt i Rust, agus sin an raon feidhme dó
tá an tagairt sin bailí. An chuid is mó den am, bíonn saolta intuigthe agus tátal,
díreach mar an chuid is mó den am, tá tátal a bhaint as cineálacha. Ní mór dúinn cineálacha a anótáil amháin
nuair is féidir cineálacha iolracha. Ar an mbealach céanna, ní mór dúinn saolréanna a anótáil
nuair a d’fhéadfaí saolré na dtagairtí a cheangal ar roinnt bealaí éagsúla. Rust
éilíonn orainn na caidrimh a anótáil ag baint úsáide as paraiméadair chineálacha saoil chun
a chinntiú go mbeidh na tagairtí iarbhír a úsáidtear ag am rite bailí cinnte.</p>
<p>Ní coincheap é saolréanna anótála atá ag formhór na dteangacha ríomhchlárúcháin eile, mar sin de
beidh sé seo ag dul a bhraitheann neamhchoitianta. Cé nach gclúdóidh muid saolréanna ina gcuid
go hiomlán sa chaibidil seo, pléifimid bealaí coitianta a dtiocfadh leat teacht orthu
comhréir feadh an tsaoil ionas gur féidir leat a bheith compordach leis an gcoincheap.</p>
<h3 id="tagairtí-dangling-le-saoil-a-chosc"><a class="header" href="#tagairtí-dangling-le-saoil-a-chosc">Tagairtí Dangling le Saoil a Chosc</a></h3>
<p>Is í an phríomhaidhm le saolréanna ná <em>dangling references</em> a chosc, a chuireann faoi deara a
clár chun sonraí a thagairt seachas na sonraí a bhfuil sé beartaithe tagairt a dhéanamh dóibh.
Smaoinigh ar an gclár i Liostú 10-16, a bhfuil raon feidhme seachtrach agus taobh istigh aige
scóip.</p>
<Listing number="10-16" caption="An attempt to use a reference whose value has gone out of scope">
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let r;

    {
        let x = 5;
        r = &amp;x;
    }

    println!("r: {r}");
}</code></pre>
</Listing>
<blockquote>
<p>Nóta: Dearbhaíonn na samplaí i Liostú 10-16, 10-17, agus 10-23 athróga
gan luach tosaigh a thabhairt dóibh, mar sin tá an t-ainm athróg ann ar an taobh amuigh
scóip. Ar an gcéad amharc, d’fhéadfadh sé a bheith cosúil go bhfuil sé seo ag teacht salach ar a bhfuil ag Rust
gan luachanna null. Mar sin féin, má dhéanaimid iarracht athróg a úsáid sula dtabharfar luach dó,
gheobhaidh muid earráid ama tiomsaithe, rud a thaispeánann nach gceadaíonn Rust go deimhin
luachanna null.</p>
</blockquote>
<p>Dearbhaíonn an raon feidhme seachtrach athróg darb ainm <code>r</code> gan aon luach tosaigh, agus an
dearbhaíonn raon feidhme inmheánach athróg darb ainm <code>x</code> le luach tosaigh <code>5</code>. Laistigh
an scóip istigh, déanaimid iarracht luach <code>r</code> a shocrú mar thagairt do <code>x</code>. Ansin
críochnaíonn an scóip inmheánach, agus déanaimid iarracht an luach a phriontáil in <code>r</code>. Ní dhéanfaidh an cód seo
tiomsaigh toisc go bhfuil an luach a bhfuil <code>r</code> ag tagairt dó imithe as an scóip roimhe seo
déanaimid iarracht é a úsáid. Seo an teachtaireacht earráide:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0597]: `x` does not live long enough
 --&gt; src/main.rs:6:13
  |
5 |         let x = 5;
  |             - binding `x` declared here
6 |         r = &amp;x;
  |             ^^ borrowed value does not live long enough
7 |     }
  |     - `x` dropped here while still borrowed
8 |
9 |     println!("r: {r}");
  |                  --- borrow later used here

For more information about this error, try `rustc --explain E0597`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>Deir an teachtaireacht earráide nach bhfuil an athróg <code>x</code> "beo fada go leor." Tá an
Is é an chúis go mbeidh <code>x</code> as an raon feidhme nuair a chríochnaíonn an raon feidhme istigh ar líne 7.
Ach tá <code>r</code> fós bailí don scóip sheachtrach; toisc go bhfuil a raon feidhme níos mó, deirimid
go mairfeadh sé "níos faide." Dá gceadódh Rust don chód seo oibriú, bheadh ​​<code>r</code>
cuimhne thagartha a bhí dealraitheach nuair a chuaigh <code>x</code> as raon feidhme, agus
ní bheadh ​​aon rud a rinneamar iarracht a dhéanamh le <code>r</code> ag obair i gceart. Mar sin, conas a dhéanann Rust
a chinneadh go bhfuil an cód seo neamhbhailí? Úsáideann sé seiceálaí iasachtaí.</p>
<h3 id="an-seiceálaí-iasachta"><a class="header" href="#an-seiceálaí-iasachta">An Seiceálaí Iasachta</a></h3>
<p>Tá <em>borrow checker</em>  ag an tiomsaitheoir Rust a dhéanann comparáid idir scóip chun a chinneadh
cibé an bhfuil gach iasacht bailí. Léiríonn Liostú 10-17 an cód céanna le Liostú
10-16 ach le nótaí a thaispeánann saolréanna na n-athróg.</p>
<Listing number="10-17" caption="Annotations of the lifetimes of `r` and `x`, named `'a` and `'b`, respectively">
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let r;                // ---------+-- 'a
                          //          |
    {                     //          |
        let x = 5;        // -+-- 'b  |
        r = &amp;x;           //  |       |
    }                     // -+       |
                          //          |
    println!("r: {r}");   //          |
}                         // ---------+</code></pre>
</Listing>
<p>Anseo, rinneamar saolré <code>r</code> a anótáil le <code>'a</code> agus saolré <code>x</code>
le <code>'b</code>. Mar a fheiceann tú, tá an bloc <code>' b</code> istigh i bhfad níos lú ná an bloc seachtrach
<code>'a</code> bloc saoil. Ag am tiomsaithe, déanann Rust comparáid idir méid an dá cheann
saoil agus feictear go bhfuil saolré <code>'a</code> ag <code>r</code> ach go dtagraíonn sé don chuimhne
le saolré <code>'b</code>. Diúltaítear don chlár toisc go bhfuil <code>'b</code> níos giorra ná
<code>'a</code>: ní mhaireann ábhar na tagartha chomh fada leis an tagairt.</p>
<p>Le liostú 10-18 socraítear an cód ionas nach mbeidh tagairt dhochrach aige agus é
thiomsaíonn gan aon earráidí.</p>
<Listing number="10-18" caption="A valid reference because the data has a longer lifetime than the reference">
<pre><pre class="playground"><code class="language-rust">fn main() {
    let x = 5;            // ----------+-- 'b
                          //           |
    let r = &amp;x;           // --+-- 'a  |
                          //   |       |
    println!("r: {r}");   //   |       |
                          // --+       |
}                         // ----------+</code></pre></pre>
</Listing>
<p>Anseo, tá an saolré <code>' b</code> ag <code>x</code>, atá sa chás seo níos mó ná <code>'a</code>. seo
ciallaíonn <code>r</code> is féidir tagairt a dhéanamh do <code>x</code> mar tá a fhios ag Rust go bhfuil an tagairt in <code>r</code> will
bheith bailí i gcónaí agus <code>x</code> bailí.</p>
<p>Anois go bhfuil a fhios agat cad iad saolré na dtagairtí agus conas a dhéanann Rust anailís
saolréanna chun a chinntiú go mbeidh teistiméireachtaí bailí i gcónaí, déanaimis iniúchadh cineálach
saolré paraiméadair agus luachanna toraidh i gcomhthéacs feidhmeanna.</p>
<h3 id="saoil-cineálach-i-bhfeidhmeanna"><a class="header" href="#saoil-cineálach-i-bhfeidhmeanna">Saoil Cineálach i bhFeidhmeanna</a></h3>
<p>Scríobhfaimid feidhm a thabharfaidh ar ais an ceann is faide de dhá shlisne téad. seo
Beidh feidhm a ghlacadh dhá shlisne teaghrán agus ar ais slice amháin teaghrán. Tar éis
tá an fheidhm <code>longest</code> curtha i bhfeidhm againn, ba cheart don chód i Liostú 10-19
cló <code>The longest string is abcd</code>.</p>
<Listing number="10-19" file-name="src/main.rs" caption="A `main` function that calls the `longest` function to find the longer of two string slices">
<pre><code class="language-rust ignore">fn main() {
    let string1 = String::from("abcd");
    let string2 = "xyz";

    let result = longest(string1.as_str(), string2);
    println!("The longest string is {result}");
}</code></pre>
</Listing>
<p>Tabhair faoi deara gur mian linn an fheidhm a ghlacadh slisní teaghrán, a bhfuil tagairtí,
seachas teaghráin, mar nílimid ag iarraidh an fheidhm <code>longest</code> a ghlacadh
úinéireacht a paraiméadair. Déan tagairt don <a href="ch04-03-slices.html#string-slices-as-parameters">“Slices Teaghrán mar
Paraiméadair”</a><!-- neamhaird --> an roinn i gCaibidil 4
le tuilleadh plé a fháil faoin bhfáth gurb iad na paraiméadair a úsáidimid i Liosta 10-19 ná na
cinn atá uainn.</p>
<p>Má dhéanaimid iarracht an fheidhm <code>longest</code> a chur i bhfeidhm mar a thaispeántar i Liostú 10-20, é
ní thiomsóidh.</p>
<Listing number="10-20" file-name="src/main.rs" caption="An implementation of the `longest` function that returns the longer of two string slices but does not yet compile">
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "xyz";
</span><span class="boring">
</span><span class="boring">    let result = longest(string1.as_str(), string2);
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>fn longest(x: &amp;str, y: &amp;str) -&gt; &amp;str {
    if x.len() &gt; y.len() {
        x
    } else {
        y
    }
}</code></pre>
</Listing>
<p>Ina áit sin, faighimid an earráid seo a leanas a labhraíonn faoi shaolréanna:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0106]: missing lifetime specifier
 --&gt; src/main.rs:9:33
  |
9 | fn longest(x: &amp;str, y: &amp;str) -&gt; &amp;str {
  |               ----     ----     ^ expected named lifetime parameter
  |
  = help: this function's return type contains a borrowed value, but the signature does not say whether it is borrowed from `x` or `y`
help: consider introducing a named lifetime parameter
  |
9 | fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
  |           ++++     ++          ++          ++

For more information about this error, try `rustc --explain E0106`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>Léiríonn an téacs cabhrach go dteastaíonn paraiméadar cineálach saoil don chineál fillte
air mar ní féidir le Rust a rá an mbaineann an tagairt atá á thabhairt ar ais
<code>x</code> nó <code>y</code>. I ndáiríre, níl a fhios againn ach an oiread, mar gheall ar an <code>if</code> bloc sa chorp
den fheidhm seo filleann tagairt do <code>x</code> agus filleann an bloc <code>else</code> a
tagairt do <code>y</code>!</p>
<p>Agus an fheidhm seo á sainiú againn, níl a fhios againn na luachanna nithiúla a bheidh
a chur ar aghaidh isteach sa fheidhm seo, mar sin níl a fhios againn cé acu an cás <code>if</code> nó an
cuirfear cás <code>else</code> i gcrích. Níl a fhios againn freisin ar shaolréanna nithiúla an
tagairtí a sheolfar isteach, mar sin ní féidir linn breathnú ar na scóip mar a rinneamar
Liostaí 10-17 agus 10-18 chun a chinneadh an ndéanfaidh an tagairt a chuirimid ar ais
bheith bailí i gcónaí. Ní féidir leis an seiceálaí iasachtaí é seo a chinneadh ach an oiread, mar gheall air
Ní fios conas a bhaineann saolré <code>x</code> agus <code>y</code> le saolré an
luach aischuir. Chun an earráid seo a réiteach, cuirfimid paraiméadair chineálacha saoil leis sin
an gaol idir na tagairtí a shainiú ionas gur féidir leis an seiceálaí iasachtaí
a anailís a dhéanamh.</p>
<h3 id="comhréir-nótaí-saoil"><a class="header" href="#comhréir-nótaí-saoil">Comhréir Nótaí Saoil</a></h3>
<p>Ní athraíonn nótaí saoil cé chomh fada agus a mhaireann aon cheann de na tagairtí. Ina ionad sin,
déanann siad cur síos ar na gaolmhaireachtaí a bhaineann le saolré na tagairtí iolracha do gach ceann acu
eile gan cur isteach ar an saolré. Díreach mar is féidir le feidhmeanna glacadh le haon chineál
nuair a shonraíonn an síniú paraiméadar cineál cineálach, is féidir le feidhmeanna glacadh leis
tagairtí le haon saolré trí pharaiméadar cineálach saoil a shonrú.</p>
<p>Tá comhréir beagán neamhghnách ag nótaí saoil: ainmneacha an tsaoil
ní mór do pharaiméadair tosú le haspail (<code>'</code>) agus de ghnáth is cás íochtair iad ar fad
agus an-ghearr, cosúil le cineálacha cineálacha. Úsáideann formhór na ndaoine an t-ainm <code>'a</code> ar an gcéad dul síos
nóta feadh an tsaoil. Cuirimid nótaí paraiméadar an tsaoil i ndiaidh <code>&amp;</code> a
tagairt, ag baint úsáide as spás chun an nóta a scaradh ó chineál na tagartha.</p>
<p>Seo roinnt samplaí: tagairt do <code>i32</code> gan paraiméadar saoil, a
tagairt do <code>i32</code> a bhfuil paraiméadar saoil darb ainm <code>'a</code> aige, agus mutable
tagairt do <code>i32</code> a bhfuil an saolré <code>'a</code> aige freisin.</p>
<pre><code class="language-rust ignore">&amp;i32        // tagairt
&amp;'a i32     // tagairt le saolré follasach
&amp;'a mut i32 // tagairt mutable le saolré follasach</code></pre>
<p>Níl mórán brí ag baint le nóta saoil amháin ann féin toisc go bhfuil an
Tá anótálacha i gceist a insint do Rust conas paraiméadair chineálacha feadh an tsaoil il
baineann tagairtí lena chéile. Déanaimis scrúdú ar conas na nótaí saoil
a bhaineann le chéile i gcomhthéacs na feidhme <code>longest</code>.</p>
<h3 id="anótálacha-saoil-i-sínithe-feidhme"><a class="header" href="#anótálacha-saoil-i-sínithe-feidhme">Anótálacha Saoil i Sínithe Feidhme</a></h3>
<p>Chun nótaí saoil a úsáid i sínithe feidhm, ní mór dúinn an
paraiméadair cineálach <em>lifetime</em> laistigh de lúibíní uillinne idir ainm na feidhme
agus an liosta paraiméadar, díreach mar a rinneamar le paraiméadair cineálach <em>type</em>.</p>
<p>Ba mhaith linn go gcuirfeadh an síniú an srian seo a leanas in iúl: an t-aischur
beidh an tagairt bailí fad is atá an dá pharaiméadar bailí. Is é seo an
an gaol idir saolré na bparaiméadar agus an luach toraidh. Déanfaimid
ainmnigh an saolré <code>'a</code> agus ansin cuir le gach tagairt é, mar a thaispeántar sa Liostú
10-21.</p>
<Listing number="10-21" file-name="src/main.rs" caption="The `longest` function definition specifying that all the references in the signature must have the same lifetime `'a`">
<pre><pre class="playground"><code class="language-rust"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "xyz";
</span><span class="boring">
</span><span class="boring">    let result = longest(string1.as_str(), string2);
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
    if x.len() &gt; y.len() {
        x
    } else {
        y
    }
}</code></pre></pre>
</Listing>
<p>Ba cheart don chód seo an toradh a theastaíonn uainn a thiomsú agus a tháirgeadh nuair a úsáidimid é leis an
`príomhfheidhm' i Liostú 10-19.</p>
<p>Insíonn síniú na feidhme do Rust anois go bhfuil <code>'a</code>, an fheidhm ar feadh an tsaoil
Bíonn dhá pharaiméadar, agus is slisní teaghrán iad araon a mhaireann ar a laghad mar
ar feadh an tsaoil <code>'a</code>. Insíonn an síniú feidhm freisin Rust go bhfuil an teaghrán
Beidh slice ar ais ón bhfeidhm beo ar a laghad chomh fada agus a saolré <code>'a</code>.
Go praiticiúil, ciallaíonn sé go bhfuil an saolré an tagairt ar ais ag an
tá an fheidhm <code>longest</code> mar an gcéanna leis an gceann is lú de shaolréanna na luachanna
dá dtagraítear ag na hargóintí feidhm. Is iad na caidrimh seo a theastaíonn uainn
Rust a úsáid agus an cód seo á anailísiú.</p>
<p>Cuimhnigh, nuair a shonraímid na paraiméadair saoil sa síniú feidhme seo,
níl muid ag athrú saolré aon luachanna a chuirtear isteach nó a thugtar ar ais. Ina ionad sin,
táimid ag sonrú gur cheart don seiceálaí iasachtaí diúltú d’aon luachanna nach ndéanann
cloí leis na srianta seo. Tabhair faoi deara nach gá an fheidhm <code>longest</code>
fios go cruinn cá fhad a mhairfidh <code>x</code> agus <code>y</code>, ach gur féidir le scóip éigin a bheith
in ionad <code>'a</code> a shásóidh an síniú seo.</p>
<p>Nuair a bhíonn saolréanna i bhfeidhmeanna á anótáil, téann na nótaí isteach san fheidhm
síniú, nach bhfuil sa chomhlacht feidhme. Is cuid de na nótaí saoil
conradh na feidhme, mórán cosúil leis na cineálacha sa síniú. Ag
go bhfuil sínithe feidhm ciallaíonn an conradh saolré an anailís ar an meirge
Is féidir le tiomsaitheoir a bheith níos simplí. Má tá fadhb ann leis an gcaoi a bhfuil feidhm
anótáilte nó an bealach ar a dtugtar é, is féidir leis an earráidí tiomsaitheoir pointe go dtí an chuid de
ár gcód agus na srianta níos cruinne. Más rud é, ina ionad sin, an tiomsaitheoir Rust
rinneamar níos mó tátail faoi na caidrimh a bhí i gceist againn ar feadh an tsaoil
le bheith, b'fhéidir nach mbeadh an tiomsaitheoir in ann ach go leor céimeanna a úsáid chun ár gcód a úsáid
ar shiúl ó chúis na faidhbe.</p>
<p>Nuair a thugaimid tagairtí nithiúla don <code>longest</code>, is é sin an saolré nithiúil
in ionad <code>'a</code> is ea an chuid de scóip <code>x</code> a fhorluíonn leis an
scóip <code>y</code>. I bhfocail eile, beidh an saolré cineálach <code>'a</code> a fháil ar an nithiúla
saolré atá comhionann leis an gceann is lú de shaolré <code>x</code> agus <code>y</code>. Toisc
rinneamar an tagairt ar ais a anótáil leis an bparaiméadar saoil céanna <code>'a</code>,
beidh an tagairt ar ais bailí freisin ar feadh an fhad is lú de na
saolré <code>x</code> agus <code>y</code>.</p>
<p>Breathnaímid ar an gcaoi a gcuireann nótaí saoil srian ar an bhfeidhm <code>longest</code> trí
tagairtí a bhfuil saolréanna coincréiteacha éagsúla acu a rith. Tá liosta 10-22
sampla simplí.</p>
<Listing number="10-22" file-name="src/main.rs" caption="Using the `longest` function with references to `String` values that have different concrete lifetimes">
<pre><pre class="playground"><code class="language-rust">fn main() {
    let string1 = String::from("long string is long");

    {
        let string2 = String::from("xyz");
        let result = longest(string1.as_str(), string2.as_str());
        println!("The longest string is {result}");
    }
}
<span class="boring">
</span><span class="boring">fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
</span><span class="boring">    if x.len() &gt; y.len() {
</span><span class="boring">        x
</span><span class="boring">    } else {
</span><span class="boring">        y
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre></pre>
</Listing>
<p>Sa sampla seo, tá <code>string1</code> bailí go dtí deireadh an scóip sheachtraigh, <code>string2</code>
bailí go dtí deireadh an scóip istigh, agus déanann <code>result</code> tagairt do rud éigin
atá bailí go dtí deireadh an raon feidhme laistigh. Rith an cód seo agus feicfidh tú
go gceadaíonn an seiceálaí iasachtaí; tiomsóidh agus priontálfaidh sé <code>The longest string is long string is long</code>.</p>
<p>Ansin, déanaimis iarracht sampla a thaispeánann go bhfuil saolré na tagartha i
caithfidh gurb é <code>result</code> saolré níos lú an dá argóint. Bogfaimid an
dearbhú na hathróige <code>result</code> lasmuigh den scóip inmheánach ach fág an
sannadh an luacha don athróg <code>result</code> taobh istigh den scóip le
<code>string2</code>. Ansin bogfaimid an <code>println!</code> a úsáideann <code>result</code> chuig taobh amuigh de
raon feidhme istigh, tar éis an raon feidhme istigh dar críoch. Beidh an cód i Liostú 10-23
gan tiomsú.</p>
<Listing number="10-23" file-name="src/main.rs" caption="Attempting to use `result` after `string2` has gone out of scope">
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let string1 = String::from("long string is long");
    let result;
    {
        let string2 = String::from("xyz");
        result = longest(string1.as_str(), string2.as_str());
    }
    println!("The longest string is {result}");
}
<span class="boring">
</span><span class="boring">fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;'a str) -&gt; &amp;'a str {
</span><span class="boring">    if x.len() &gt; y.len() {
</span><span class="boring">        x
</span><span class="boring">    } else {
</span><span class="boring">        y
</span><span class="boring">    }
</span><span class="boring">}</span></code></pre>
</Listing>
<p>Nuair a dhéanaimid iarracht an cód seo a thiomsú, faighimid an earráid seo:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0597]: `string2` does not live long enough
 --&gt; src/main.rs:6:44
  |
5 |         let string2 = String::from("xyz");
  |             ------- binding `string2` declared here
6 |         result = longest(string1.as_str(), string2.as_str());
  |                                            ^^^^^^^ borrowed value does not live long enough
7 |     }
  |     - `string2` dropped here while still borrowed
8 |     println!("The longest string is {result}");
  |                                     -------- borrow later used here

For more information about this error, try `rustc --explain E0597`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>Léiríonn an earráid le haghaidh <code>result</code> a bheith bailí don ráiteas <code>println!</code>,
Ba ghá go mbeadh <code>string2</code> bailí go dtí deireadh an scóip sheachtraigh. Tá a fhios ag meirge
seo toisc gur thugamar anótáil ar shaolré na bparaiméadar feidhme agus ar ais
luachanna ag baint úsáide as an bparaiméadar saoil céanna <code>'a</code>.</p>
<p>Mar dhaoine, is féidir linn breathnú ar an gcód seo agus a fheiceáil go bhfuil <code>string1</code> níos faide ná
<code>string2</code>, agus mar sin, beidh tagairt do <code>string1</code> i <code>result</code>.
Toisc nach bhfuil <code>string1</code> imithe as an scóip go fóill, déanfar tagairt do <code>string1</code>
fós bailí don ráiteas <code>println!</code>. Mar sin féin, ní féidir leis an tiomsaitheoir a fheiceáil
go bhfuil an tagairt bailí sa chás seo. Táimid tar éis a dúirt Rust go bhfuil an saolré
tá an tagairt a thugann an fheidhm <code>longest</code> ar ais mar an gcéanna leis an gceann is lú de
saolré na dtagairtí a cuireadh isteach. Dá bhrí sin, an seiceálaí iasachtaí
dícheadaítear an cód i Liostú 10-23 mar go bhféadfadh tagairt neamhbhailí a bheith aige.</p>
<p>Déan iarracht níos mó turgnaimh a dhearadh a athraíonn luachanna agus saolré an
tagairtí a cuireadh ar aghaidh chuig an bhfeidhm <code>longest</code> agus conas a cuireadh an tagairt ar ais
úsáidtear. Déan hipitéisí faoi cé acu an rachaidh nó nach rachaidh do thurgnaimh thar an
seiceálaí iasachtaí sula ndéanann tú tiomsú; seiceáil ansin féachaint an bhfuil an ceart agat!</p>
<h3 id="smaointeoireacht-i-dtéarmaí-saoil"><a class="header" href="#smaointeoireacht-i-dtéarmaí-saoil">Smaointeoireacht i dTéarmaí Saoil</a></h3>
<p>Braitheann an bealach inar gá duit paraiméadair an tsaoil a shonrú ar an méid atá agat
feidhm ag déanamh. Mar shampla, má d’athraigh muid cur i bhfeidhm an
feidhm <code>longest</code> chun an chéad pharaiméadar a thabhairt ar ais i gcónaí seachas an ceann is faide
slisne teaghrán, ní bheadh ​​​​gá dúinn saolré a shonrú ar an bparaiméadar <code>y</code>. Tá an
tiomsóidh an cód seo a leanas:</p>
<Listing file-name="src/main.rs">
<pre><pre class="playground"><code class="language-rust"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "efghijklmnopqrstuvwxyz";
</span><span class="boring">
</span><span class="boring">    let result = longest(string1.as_str(), string2);
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>fn longest&lt;'a&gt;(x: &amp;'a str, y: &amp;str) -&gt; &amp;'a str {
    x
}</code></pre></pre>
</Listing>
<p>Tá paraiméadar saoil <code>'a</code> sonraithe againn don pharaiméadar <code>x</code> agus don tuairisceán
cineál, ach ní le haghaidh an pharaiméadar <code>y</code>, toisc nach bhfuil an saolré <code>y</code> acu
gaol ar bith le saolré <code>x</code> nó luach an aischuir.</p>
<p>Nuair a bheidh tagairt ó fheidhm á filleadh ar ais, is é an paraiméadar saoil don
ní mór an cineál fillte a mheaitseáil leis an bparaiméadar saoil do cheann de na paraiméadair. Más rud é
tagraíonn an tagairt ar ais <em>not</em> do cheann de na paraiméadair, caithfidh sé tagairt a dhéanamh
go luach a chruthaítear laistigh den fheidhm seo. Mar sin féin, bheadh ​​​​sé seo ina dangling
tagairt mar go rachaidh an luach as raon feidhme ag deireadh na feidhme.
Smaoinigh ar an iarracht seo an fheidhm <code>longest</code> nach ndéanfaidh
tiomsaigh:</p>
<Listing file-name="src/main.rs">
<pre><code class="language-rust ignore does_not_compile"><span class="boring">fn main() {
</span><span class="boring">    let string1 = String::from("abcd");
</span><span class="boring">    let string2 = "xyz";
</span><span class="boring">
</span><span class="boring">    let result = longest(string1.as_str(), string2);
</span><span class="boring">    println!("The longest string is {result}");
</span><span class="boring">}
</span><span class="boring">
</span>fn longest&lt;'a&gt;(x: &amp;str, y: &amp;str) -&gt; &amp;'a str {
    let result = String::from("really long string");
    result.as_str()
}</code></pre>
</Listing>
<p>Anseo, cé go bhfuil paraiméadar saoil <code>'a</code> sonraithe againn don tuairisceán
cineál, beidh an cur i bhfeidhm theipeann a thiomsú mar gheall ar an luach ar ais
níl baint ag an saolré le saolré na bparaiméadar ar chor ar bith. Seo é an
teachtaireacht earráide a fhaighimid:</p>
<pre><code class="language-console">$ cargo run
   Compiling chapter10 v0.1.0 (file:///projects/chapter10)
error[E0515]: cannot return value referencing local variable `result`
  --&gt; src/main.rs:11:5
   |
11 |     result.as_str()
   |     ------^^^^^^^^^
   |     |
   |     returns a value referencing data owned by the current function
   |     `result` is borrowed here

For more information about this error, try `rustc --explain E0515`.
error: could not compile `chapter10` (bin "chapter10") due to 1 previous error
</code></pre>
<p>Is í an fhadhb atá ann go dtéann <code>result</code> as an scóip agus go ndéantar é a ghlanadh ag an deireadh
den fheidhm <code>longest</code>. Táimid ag iarraidh tagairt a thabhairt ar ais do <code>result</code> freisin
ón bhfeidhm. Níl aon bhealach is féidir linn paraiméadair shaolré a shonrú go
d’athródh sé an tagairt dhochrach, agus ní ligfidh Rust dúinn cliseadh a chruthú
tagairt. Sa chás seo, is é an socrú is fearr ná cineál sonraí faoi úinéireacht a thabhairt ar ais
seachas tagairt agus mar sin tá an fheidhm ghlao freagrach as
ag glanadh suas an luach.</p>
<p>Ar deireadh thiar, baineann comhréir saoil le saolréanna éagsúla a nascadh
paraiméadair agus luachanna aischuir feidhmeanna. Nuair a bheidh siad ceangailte, tá Rust
dóthain faisnéise chun oibríochtaí cuimhne-sábháilte a cheadú agus oibríochtaí a dhícheadú
a chruthódh leideanna buailte nó a sháródh sábháilteacht na cuimhne ar shlí eile.</p>
<h3 id="nótaí-saoil-i-sainmhínithe-struchtúr"><a class="header" href="#nótaí-saoil-i-sainmhínithe-struchtúr">Nótaí Saoil i Sainmhínithe Struchtúr</a></h3>
<p>Go dtí seo, na struchtúir atá sainmhínithe againn go léir faoi úinéireacht sealúchais. Is féidir linn struchtúir a shainiú
chun tagairtí a choinneáil, ach sa chás sin bheadh ​​orainn nóta saoil a chur leis
ar gach tagairt i sainmhíniú an struchtúir. I liostú 10-24 tá struchtúr ainmnithe
<code>ImportantExcerpt</code> a choinníonn slisne teaghrán.</p>
<Listing number="10-24" file-name="src/main.rs" caption="A struct that holds a reference, requiring a lifetime annotation">
<pre><pre class="playground"><code class="language-rust">struct ImportantExcerpt&lt;'a&gt; {
    part: &amp;'a str,
}

fn main() {
    let novel = String::from("Call me Ishmael. Some years ago...");
    let first_sentence = novel.split('.').next().unwrap();
    let i = ImportantExcerpt {
        part: first_sentence,
    };
}</code></pre></pre>
</Listing>
<p>Tá an <code>part</code> réimse singil ag an struchtúr seo a choinníonn slisne teaghrán, is é sin a
tagairt. Mar is amhlaidh le cineálacha sonraí cineálach, dearbhaímid ainm an chineál cineálach
paraiméadar feadh an tsaoil taobh istigh lúibíní uillinn tar éis ainm an struct ionas gur féidir linn
úsáid a bhaint as an paraiméadar saoil i gcorp an tsainmhínithe struct. seo
Ciallaíonn anótáil nach féidir le <code>ImportantExcerpt</code> a bheith níos faide ná an tagairt
coinníonn sé ina réimse <code>part</code>.</p>
<p>Cruthaíonn an fheidhm <code>main</code> anseo sampla den struchtúr <code>ImportantExcerpt</code>
a choinníonn tagairt don chéad abairt den <code>String</code> atá ar úinéireacht ag an
athróg <code>novel</code>. Tá na sonraí san <code>novel</code> ann roimh an <code>ImportantExcerpt</code>
cruthaítear shampla. Ina theannta sin, ní théann <code>novel</code> as raon feidhme go dtí ina dhiaidh sin
téann an <code>ImportantExcerpt</code> amach as an scóip, mar sin tá an tagairt sa
Tá sampla <code>ImportantExcerpt</code> bailí.</p>
<h3 id="elision-ar-feadh-an-tsaoil"><a class="header" href="#elision-ar-feadh-an-tsaoil">Elision ar feadh an tSaoil</a></h3>
<p>D'fhoghlaim tú go bhfuil saolré ag gach tagairt agus gur gá duit a shonrú
paraiméadair shaolré le haghaidh feidhmeanna nó struchtúir a úsáideann tagairtí. Mar sin féin, táimid
Bhí feidhm aige i Liostú 4-9, a thaispeántar arís i Liostú 10-25, a cuireadh le chéile
gan nótaí saoil.</p>
<Listing number="10-25" file-name="src/lib.rs" caption="A function we defined in Listing 4-9 that compiled without lifetime annotations, even though the parameter and return type are references">
<pre><pre class="playground"><code class="language-rust">fn first_word(s: &amp;str) -&gt; &amp;str {
    let bytes = s.as_bytes();

    for (i, &amp;item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &amp;s[0..i];
        }
    }

    &amp;s[..]
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let my_string = String::from("hello world");
</span><span class="boring">
</span><span class="boring">    // first_word works on slices of `String`s
</span><span class="boring">    let word = first_word(&amp;my_string[..]);
</span><span class="boring">
</span><span class="boring">    let my_string_literal = "hello world";
</span><span class="boring">
</span><span class="boring">    // first_word works on slices of string literals
</span><span class="boring">    let word = first_word(&amp;my_string_literal[..]);
</span><span class="boring">
</span><span class="boring">    // Because string literals *are* string slices already,
</span><span class="boring">    // this works too, without the slice syntax!
</span><span class="boring">    let word = first_word(my_string_literal);
</span><span class="boring">}</span></code></pre></pre>
</Listing>
<p>Is cúis stairiúil an chúis a thiomsaíonn an fheidhm seo gan nótaí saoil:
i leaganacha luatha (réamh-1.0) de Rust, ní bheadh ​​an cód seo tiomsaithe toisc
bhí saolré follasach ag teastáil ó gach tagairt. Ag an am sin, an fheidhm
bheadh ​​síniú scríofa mar seo:</p>
<pre><code class="language-rust ignore">fn first_word&lt;'a&gt;(s: &amp;'a str) -&gt; &amp;'a str {</code></pre>
<p>Tar éis a lán de chód Rust a scríobh, fuair an fhoireann Rust go ríomhchláraitheoirí Rust
go raibh na nótaí saoil céanna á gcur isteach arís agus arís eile go háirithe
cásanna. Bhí na cásanna seo intuartha agus lean siad roinnt cinntitheach
patrúin. Rinne na forbróirí na patrúin seo a ríomhchlárú isteach i gcód an tiomsaitheora amhlaidh
d’fhéadfadh an seiceálaí iasachtaí tátal a bhaint as na saolréanna sna cásanna seo agus ní bheadh
nótaí soiléire de dhíth.</p>
<p>Tá an píosa seo de stair Rust ábhartha mar is féidir go bhfuil níos mó
tiocfaidh patrúin cinntitheacha chun cinn agus cuirfear leis an tiomsaitheoir iad. Sa todhchaí,
d'fhéadfadh go mbeadh níos lú nótaí saoil de dhíth.</p>
<p>Tugtar an
<em>rialacha éalaithe saoil</em>. Ní rialacha iad seo atá le leanúint ag ríomhchláraitheoirí; siad
sraith cásanna ar leith a bhreithneoidh an tiomsaitheoir, agus más rud é do chód
oiriúnach do na cásanna seo, ní gá duit na saolréanna a scríobh go sainráite.</p>
<p>Ní thugann na rialacha díothaithe tátal iomlán. Má tá débhríocht fós mar
cad iad na saolréanna atá ag na tagairtí tar éis do Rust na rialacha a chur i bhfeidhm, an
ní dhéanfaidh an tiomsaitheoir buille faoi thuairim cén saolré ba cheart a bheith sna tagairtí atá fágtha.
In ionad buille faoi thuairim a thabhairt, tabharfaidh an tiomsaitheoir earráid duit is féidir leat a réiteach
trí na nótaí saoil a chur leis.</p>
<p>Tugtar <em>ionchur saoil</em> ar fhad saoil ar pharaiméadair feidhme nó modha, agus
tugtar <em>saolréanna aschuir</em> ar shaolréanna ar luachanna aischuir.</p>
<p>Úsáideann an tiomsaitheoir trí riail chun saolré na dtagairtí a dhéanamh amach
nuair nach bhfuil nótaí soiléire ann. Baineann an chéad riail le hionchur
saolréanna, agus tá feidhm ag an dara agus an tríú riail maidir le saolréanna aschuir. Má tá an
Faigheann tiomsaitheoir go dtí deireadh na dtrí rialacha agus tá tagairtí do
rud nach féidir leis saolréanna a dhéanamh amach, stopfaidh an tiomsaitheoir le hearráid.
Baineann na rialacha seo le sainmhínithe <code>fn</code> chomh maith le bloic <code>impl</code>.</p>
<p>Is é an chéad riail go sannann an tiomsaitheoir paraiméadar saoil do gach ceann acu
paraiméadar atá ina thagairt. I bhfocail eile, feidhm le paraiméadar amháin
faigheann sé paraiméadar saoil amháin: <code>fn foo&lt;'a&gt;(x: &amp;'a i32)</code>; feidhm le dhá
faigheann paraiméadair dhá pharaiméadair saoil ar leith: <code>fn foo&lt;'a, 'b&gt;(x: &amp;'a i32, y: &amp;'b i32)</code>; agus mar sin de.</p>
<p>Is é an dara riail, má tá go díreach paraiméadar saoil ionchuir amháin, go
sanntar an saolré do gach paraiméadair shaolré aschuir: <code>fn foo&lt;'a&gt;(x: &amp;'a i32) -&gt; &amp;'a i32</code>.</p>
<p>Is é an tríú riail, má tá paraiméadair shaolré ionchuir iolracha, ach
duine acu is <code>&amp;self</code> nó <code>&amp;mut self</code> toisc gur modh é seo, saolré
sanntar <code>self</code> ar gach paraiméadair shaolré aschuir. Déanann an tríú riail seo
modhanna i bhfad níos deise a léamh agus a scríobh mar go bhfuil níos lú siombailí riachtanach.</p>
<p>Ligean orainn gur muid an tiomsaitheoir. Cuirfimid na rialacha seo i bhfeidhm chun na
saolré na dtagairtí i síniú na feidhme <code>first_word</code> i
Liostáil 10-25. Tosaíonn an síniú gan aon saolréanna a bhaineann leis an
tagairtí:</p>
<pre><code class="language-rust ignore">fn first_word(s: &amp;str) -&gt; &amp;str {</code></pre>
<p>Ansin tá feidhm ag an tiomsaitheoir an chéad riail, a shonraíonn go bhfuil gach paraiméadar
faigheann a shaolré féin. Tabharfaimid <code>'a</code> air mar is gnách, mar sin anois tá an síniú
seo:</p>
<pre><code class="language-rust ignore">fn first_word&lt;'a&gt;(s: &amp;'a str) -&gt; &amp;str {</code></pre>
<p>Tá feidhm ag an dara riail toisc go bhfuil go díreach saolré ionchuir amháin. An dara ceann
sonraíonn an riail go sanntar saolré an pharaiméadar ionchuir amháin
saolré an aschuir, mar sin is é an síniú anois:</p>
<pre><code class="language-rust ignore">fn first_word&lt;'a&gt;(s: &amp;'a str) -&gt; &amp;'a str {</code></pre>
<p>Anois tá saolréanna ag na tagairtí go léir sa síniú feidhme seo, agus tá an
is féidir leis an tiomsaitheoir leanúint lena anailís gan gá don ríomhchláraitheoir anótáil a dhéanamh
na saolréanna sa síniú feidhme seo.</p>
<p>Breathnaímid ar shampla eile, an uair seo ag baint úsáide as an bhfeidhm <code>longest</code> a raibh
gan aon pharaiméadair saoil nuair a thosaigh muid ag obair leis i Liostú 10-20:</p>
<pre><code class="language-rust ignore">fn longest(x: &amp;str, y: &amp;str) -&gt; &amp;str {</code></pre>
<p>Cuirfimid an chéad riail i bhfeidhm: faigheann gach paraiméadar a shaolré féin. An uair seo táimid
bíodh dhá pharaiméadair againn seachas ceann amháin, agus mar sin tá dhá shaolré againn:</p>
<pre><code class="language-rust ignore">fn longest&lt;'a, 'b&gt;(x: &amp;'a str, y: &amp;'b str) -&gt; &amp;str {</code></pre>
<p>Is féidir leat a fheiceáil nach bhfuil feidhm ag an dara riail toisc go bhfuil níos mó ná ceann amháin ann
shaolré ionchuir. Níl feidhm ag an tríú riail ach an oiread, mar is é an <code>longest</code> ná a
feidhm seachas modh, mar sin níl aon cheann de na paraiméadair <code>self</code>. Tar éis
ag obair trí na trí rialacha, níl a fhios againn go fóill cad é an toradh
Is é saolré an chineáil. Sin é an fáth go bhfuaireamar earráid agus muid ag iarraidh an cód a thiomsú isteach
Liostú 10-20: d’oibrigh an tiomsaitheoir trí na rialacha éalaithe ar feadh an tsaoil ach fós féin
níorbh fhéidir fad saoil na dtagairtí sa síniú a dhéanamh amach.</p>
<p>Toisc nach mbaineann an tríú riail ach le sínithe modhanna, féachfaimid
saolréanna sa chomhthéacs sin taobh le taobh féachaint cén fáth a gciallaíonn an tríú riail nach gá dúinn
anótáil saolréanna i sínithe modha go minic.</p>
<h3 id="anótálacha-saoil-i-sainmhínithe-modh"><a class="header" href="#anótálacha-saoil-i-sainmhínithe-modh">Anótálacha Saoil i Sainmhínithe Modh</a></h3>
<p>Nuair a chuirimid modhanna i bhfeidhm ar struchtúr le saolréanna, bainimid úsáid as an chomhréir chéanna agus atá
paraiméadair chineálacha a thaispeántar i Liosta 10-11. I gcás ina ndearbhaímid agus
Braitheann úsáid paraiméadair an tsaoil ar cibé an bhfuil baint acu leis an struchtúr
réimsí nó paraiméadair an mhodha agus na luachanna tuairisceáin.</p>
<p>Ní mór ainmneacha saoil do réimsí struchtúir a dhearbhú i gcónaí tar éis an <code>impl</code>
eochairfhocal agus ansin úsáidtear é tar éis ainm an struchtúir toisc go bhfuil na saolréanna sin páirteach
den chineál struchtúir.</p>
<p>I sínithe modha taobh istigh den bhloc <code>impl</code>, d'fhéadfadh tagairtí a bheith ceangailte leis an
saolré na dtagairtí i réimsí an struchtúir, nó d'fhéadfadh siad a bheith neamhspleách. I
Ina theannta sin, is minic a fhágann rialacha éalaithe an tsaoil é ionas go mbeidh nótaí saoil ann
nach bhfuil riachtanach i sínithe modh. Breathnaímid ar roinnt samplaí ag baint úsáide as an
struchtúr darb ainm <code>ImportantExcerpt</code> a shainmhíomar i Liostú 10-24.</p>
<p>Ar dtús úsáidfimid modh darb ainm <code>level</code> a bhfuil an t-aon pharaiméadar ina thagairt dó
<code>self</code> agus arb é i32` a luach aischuir, nach tagairt d'aon rud é:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">struct ImportantExcerpt&lt;'a&gt; {
</span><span class="boring">    part: &amp;'a str,
</span><span class="boring">}
</span><span class="boring">
</span>impl&lt;'a&gt; ImportantExcerpt&lt;'a&gt; {
    fn level(&amp;self) -&gt; i32 {
        3
    }
}
<span class="boring">
</span><span class="boring">impl&lt;'a&gt; ImportantExcerpt&lt;'a&gt; {
</span><span class="boring">    fn announce_and_return_part(&amp;self, announcement: &amp;str) -&gt; &amp;str {
</span><span class="boring">        println!("Attention please: {announcement}");
</span><span class="boring">        self.part
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let novel = String::from("Call me Ishmael. Some years ago...");
</span><span class="boring">    let first_sentence = novel.split('.').next().unwrap();
</span><span class="boring">    let i = ImportantExcerpt {
</span><span class="boring">        part: first_sentence,
</span><span class="boring">    };
</span><span class="boring">}</span></code></pre></pre>
<p>An dearbhú paraiméadar saoil tar éis <code>impl</code> agus a úsáid tar éis ainm an chineáil
ag teastáil, ach ní gá dúinn saolré na tagartha a anótáil
go <code>self</code> mar gheall ar riail an chéad elision.</p>
<p>Seo sampla ina bhfuil feidhm ag an tríú riail éalaithe saoil:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">struct ImportantExcerpt&lt;'a&gt; {
</span><span class="boring">    part: &amp;'a str,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl&lt;'a&gt; ImportantExcerpt&lt;'a&gt; {
</span><span class="boring">    fn level(&amp;self) -&gt; i32 {
</span><span class="boring">        3
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>impl&lt;'a&gt; ImportantExcerpt&lt;'a&gt; {
    fn announce_and_return_part(&amp;self, announcement: &amp;str) -&gt; &amp;str {
        println!("Attention please: {announcement}");
        self.part
    }
}
<span class="boring">
</span><span class="boring">fn main() {
</span><span class="boring">    let novel = String::from("Call me Ishmael. Some years ago...");
</span><span class="boring">    let first_sentence = novel.split('.').next().unwrap();
</span><span class="boring">    let i = ImportantExcerpt {
</span><span class="boring">        part: first_sentence,
</span><span class="boring">    };
</span><span class="boring">}</span></code></pre></pre>
<p>Tá dhá shaolré ionchuir ann, mar sin cuireann Rust an chéad riail éalaithe saoil i bhfeidhm
agus tugann sé a saolta féin idir <code>&amp;self</code> agus <code>announcement</code>. Ansin, mar gheall ar
ceann de na paraiméadair is ea <code>&amp;self</code>, faigheann an cineál tuairisceáin saolré <code>&amp;self</code>,
agus tá cuntas déanta ar gach saolré.</p>
<h3 id="an-saol-statach"><a class="header" href="#an-saol-statach">An Saol Statach</a></h3>
<p>Saolré speisialta amháin a chaithfimid a phlé ná <code>'static</code>, rud a léiríonn go bhfuil an
tagairt difear <em>can</em> beo ar feadh ré iomlán an chláir. Gach
tá an saolré <code>'static</code> ag sreanglitreacha, agus is féidir linn anótáil a dhéanamh mar seo a leanas:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let s: &amp;'static str = "I have a static lifetime.";
<span class="boring">}</span></code></pre></pre>
<p>Stóráiltear téacs na teaghrán seo go díreach i ndénártha an chláir, mar atá
ar fáil i gcónaí. Dá bhrí sin, tá saolré gach teaghráin-liteartha <code>'static</code>.</p>
<p>Seans go bhfeicfeá moltaí i dteachtaireachtaí earráide chun an saolré <code>'static</code> a úsáid. Ach
sula sonrófar <code>'static</code> mar an saolré le haghaidh tagartha, smaoinigh ar
cibé an bhfuil an tagairt atá agat i do chónaí i ndáiríre ar feadh shaolré iomlán do
clár nó nach ea, agus cibé acu is mian leat é. An chuid is mó den am, teachtaireacht earráide
ag moladh na dtorthaí saoil <code>'static</code> as iarracht a dhéanamh ar dhrong a chruthú
tagairt nó neamhréir idir na saolréanna atá ar fáil. I gcásanna den sórt sin, an réiteach
is é sin na fadhbanna sin a réiteach, gan an saolré <code>'static</code> a shonrú.</p>
<h2 id="paraiméadair-chineálacha-cineálacha-teorainneacha-trait-agus-saoil-le-chéile"><a class="header" href="#paraiméadair-chineálacha-cineálacha-teorainneacha-trait-agus-saoil-le-chéile">Paraiméadair Chineálacha Cineálacha, Teorainneacha Trait, agus Saoil le Chéile</a></h2>
<p>Breathnaímid go hachomair ar an chomhréir a bhaineann le paraiméadair cineálacha cineálacha, tréithe a shonrú
teorainneacha, agus saolréanna ar fad in aon fheidhm amháin!</p>
<pre><code class="language-meirge"># fn main() {
#     let string1 = String::from("abcd");
#     let string2 = "xyz";
# 
#     let result = longest_with_an_announcement(
#         string1.as_str(),
#         string2,
#         "Today is someone's birthday!",
#     );
#     println!("The longest string is {result}");
# }
# 
use std::fmt::Display;

fn longest_with_an_announcement&lt;'a, T&gt;(
    x: &amp;'a str,
    y: &amp;'a str,
    ann: T,
) -&gt; &amp;'a str
where
    T: Display,
{
    println!("Announcement! {ann}");
    if x.len() &gt; y.len() {
        x
    } else {
        y
    }
}
</code></pre>
<p>Seo í an fheidhm <code>longest</code> ó Liostú 10-21 a fhilleann an ceann is faide de
dhá shlisne teaghrán. Ach anois tá paraiméadar breise aige darb ainm <code>ann</code> den chineálach
clóscríobh <code>T</code>, ar féidir é a líonadh isteach de réir cineáil ar bith a chuireann an <code>Display</code> i bhfeidhm
tréith mar atá sonraithe ag an gclásal <code>áit</code>. Déanfar an paraiméadar breise seo a phriontáil
ag baint úsáide as <code>{}</code>, agus sin an fáth a bhfuil an tréithe <code>Display</code> faoi cheangal riachtanach. Toisc
is cineál cineálach iad saolréanna, dearbhuithe an pharaiméadar saoil
Téann <code>'a</code> agus an cineál paraiméadar cineálach <code>T</code> sa liosta céanna taobh istigh den uillinn
lúibíní i ndiaidh ainm na feidhme.</p>
<h2 id="achoimre"><a class="header" href="#achoimre">Achoimre</a></h2>
<p>Chlúdaigh muid go leor sa chaibidil seo! Anois go bhfuil a fhios agat faoi chineál cineálach
paraiméadair, tréithe agus teorainneacha tréithe, agus paraiméadair chineálacha saoil, tá tú
réidh le cód a scríobh gan athrá a oibríonn i go leor cásanna éagsúla.
Ligeann paraiméadair chineálacha duit an cód a chur i bhfeidhm ar chineálacha éagsúla. Tréithe agus
cinntíonn teorainneacha tréithe, cé go bhfuil na cineálacha cineálacha, go mbeidh an
iompar a theastaíonn ón gcód. D'fhoghlaim tú conas nótaí saoil a úsáid lena chinntiú
nach mbeidh aon tagairtí dochloíte ag an gcód solúbtha seo. Agus seo go léir
tarlaíonn anailís ag am tiomsaithe, rud nach gcuireann isteach ar fheidhmíocht am rite!</p>
<p>Creid é nó ná creid, tá i bhfad níos mó le foghlaim ar na hábhair a phléamar
sa chaibidil seo: Pléann Caibidil 18 réada trait, ar bealach eile iad a úsáid
tréithe. Tá cásanna níos casta ann freisin a bhaineann le nótaí saoil
nach mbeidh de dhíth ort ach i gcásanna sárfhorbartha; dóibh siúd, ba cheart duit léamh
an <a href="../reference/index.html">Tagairt Rust</a>. Ach ina dhiaidh sin, beidh tú ag foghlaim conas trialacha a scríobh isteach
Rust ionas gur féidir leat a chinntiú go bhfuil do chód ag obair mar ba chóir dó.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch10-02-traits.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ch11-00-testing.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch10-02-traits.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ch11-00-testing.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="src/css/ferris.js"></script>


    </div>
    </body>
</html>
