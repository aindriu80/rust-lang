<!DOCTYPE HTML>
<html lang="ga" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Earráidí do-aisghabhála le panic! - An Teanga Ríomhchláraithe Rust</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/css/ferris.css">
        <link rel="stylesheet" href="src/css/2018-edition.css">
        <link rel="stylesheet" href="src/css/semantic-notes.css">
        <link rel="stylesheet" href="src/css/listing.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">An Teanga Ríomhchláraithe Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/aindriu80/rust-lang/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="earráidí-do-aisghabhála-le-panic"><a class="header" href="#earráidí-do-aisghabhála-le-panic">Earráidí do-aisghabhála le <code>panic!</code></a></h2>
<p>Uaireanta tarlaíonn rudaí dona i do chód, agus níl aon rud ar féidir leat a dhéanamh faoi
é. Sna cásanna seo, tá an macra <code>panic!</code> ag Rust. Tá dhá bhealach a chur faoi deara a
scaoll i gcleachtas: trí ghníomh a dhéanamh a chuireann scaoll ar ár gcód (amhail
rochtain a fháil ar eagar thar an deireadh) nó trí ghlaoch go sainráite ar an macra <code>panic!</code>.
Sa dá chás, is cúis le scaoll inár gclár. De réir réamhshocraithe, déanfaidh na scaoll seo
cló teachtaireacht teip, unwind, glan suas an chairn, agus scor. Tríd an
athróg timpeallacht, is féidir leat freisin Rust taispeáint an chairn glaoch nuair a
tarlaíonn scaoll chun é a dhéanamh níos éasca foinse an scaoll a rianú.</p>
<blockquote>
<h3 id="an-cruach-a-dhíscaoileadh-nó-tobscoir-mar-fhreagairt-ar-scaoill"><a class="header" href="#an-cruach-a-dhíscaoileadh-nó-tobscoir-mar-fhreagairt-ar-scaoill">An Cruach a Dhíscaoileadh nó Tobscoir mar Fhreagairt ar Scaoill</a></h3>
<p>De réir réamhshocraithe, nuair a tharlaíonn scaoll tosaíonn an clár <em>unwinding</em>, rud a chiallaíonn
Siúlann Rust cúltaca an chairn agus glanann sé suas na sonraí ó gach feidhm é
cruinnithe. Mar sin féin, tá go leor oibre ag siúl siar agus ag glanadh suas. Rust,
mar sin, is féidir leat rogha eile a roghnú láithreach <em>aborting</em>,
a chríochnaíonn an clár gan glanadh suas.</p>
<p>Beidh gá ansin an chuimhne a bhí in úsáid ag an gclár a ghlanadh suas ag an
córas oibriúcháin. Más rud é i do thionscadal ní mór duit an dénártha iarmhartach a dhéanamh mar
beag agus is féidir, is féidir leat athrú ó scaoileadh go dtí deireadh a chur le scaoll ag
ag cur <code>panic = 'abort'</code> leis na rannáin <code>[profile]</code> cuí i do
<em>Cargo.toml</em> comhad. Mar shampla, más mian leat deireadh a chur le scaoll i mód scaoileadh,
cuir é seo leis:</p>
<pre><code class="language-toml">[profile.release]
scaoll = 'abort'

</code></pre>
</blockquote>
<p>Déanaimis iarracht <code>panic!</code> a ghlaoch i gclár simplí:</p>
<Listing file-name="src/main.rs">
<pre><pre class="playground"><code class="language-rust should_panic panics">fn main() {
    panic!("crash and burn");
}</code></pre></pre>
</Listing>
<p>Nuair a bheidh an clár á rith agat, feicfidh tú rud éigin mar seo:</p>
<pre><code class="language-console">$ cargo run
   Compiling panic v0.1.0 (file:///projects/panic)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.25s
     Running `target/debug/panic`
thread 'main' panicked at src/main.rs:2:5:
crash and burn
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>Is cúis leis an nglao go <code>panic!</code> an teachtaireacht earráide atá sa dá líne dheireanacha.
Taispeánann an chéad líne ár dteachtaireacht scaoll agus an áit inár gcód foinse
tharla an scaoll: léiríonn <em>src/main.rs:2:5</em> gurb í an dara líne í,
an cúigiú carachtar dár gcomhad <em>src/main.rs</em>.</p>
<p>Sa chás seo, tá an líne a luaitear mar chuid dár gcód, agus má théann muid chuige sin
líne, feicimid an glao macra <code>panic!</code>. I gcásanna eile, d'fhéadfadh an glaoch <code>panic!</code>
bheith sa chód a ghlaonn ár gcód air, agus ainm an chomhaid agus uimhir na líne arna dtuairisciú ag
cód duine éigin eile a bheidh sa teachtaireacht earráide ina bhfuil an macra <code>panic!</code>
ar a dtugtar, ní líne ár gcód ba chúis leis an nglao scaoll ar deireadh thiar.</p>
<!-- Old heading. Do not remove or links may break. -->
<p><a id="using-a-panic-backtrace"></a></p>
<p>Is féidir linn úsáid a bhaint as aisrian na bhfeidhmeanna a tháinig an glaoch <code>panic!</code> uathu go figiúr
amach an chuid dár gcód atá ag cruthú na faidhbe. Chun tuiscint a fháil ar conas é a úsáid
cúl-lorg <code>panic!</code>, breathnaímis ar shampla eile agus féachaimis cén chaoi a bhfuil sé
tagann glao <code>panic!</code> ó leabharlann mar gheall ar fhabht inár gcód seachas
ónár gcód ag glaoch ar an macra go díreach. Tá cód éigin ag baint le liostú 9-1
iarrachtaí rochtain a fháil ar innéacs i veicteoir atá thar raon na n-innéacsanna bailí.</p>
<Listing number="9-1" file-name="src/main.rs" caption="Attempting to access an element beyond the end of a vector, which will cause a call to `panic!`">
<pre><pre class="playground"><code class="language-rust should_panic panics">fn main() {
    let v = vec![1, 2, 3];

    v[99];
}</code></pre></pre>
</Listing>
<p>Anseo, táimid ag iarraidh rochtain a fháil ar an 100ú eilimint dár veicteoir (atá ag
innéacs 99 toisc go dtosaíonn an t-innéacsú ag nialas), ach níl ach trí cinn ag an veicteoir
eilimintí. Sa chás seo, beidh Rust scaoll. Ag baint úsáide as <code>[]</code> atá ceaptha a thabhairt ar ais
eilimint, ach má éiríonn leat innéacs neamhbhailí, níl aon eilimint a chuireann Rust
d'fhéadfadh filleadh anseo a bheadh ​​ceart.</p>
<p>In C, níl aon sainmhíniú ar iarracht léamh thar dheireadh struchtúir sonraí
iompar. D'fhéadfá a fháil cibé rud atá ag an suíomh i gcuimhne a bheadh
fhreagraíonn don eilimint sin sa struchtúr sonraí, cé go bhfuil an chuimhne
nach mbaineann leis an struchtúr sin. Tugtar <em>buffer overread</em> air seo agus is féidir
leochaileachtaí slándála a bheith mar thoradh air má tá ionsaitheoir in ann an t-innéacs a ionramháil
sa chaoi is gur féidir sonraí a léamh níor cheart ligean dóibh a stóráiltear ina dhiaidh sin
an struchtúr sonraí.</p>
<p>Chun do chlár a chosaint ar an gcineál seo leochaileachta, má dhéanann tú iarracht an
eilimint ag innéacs nach bhfuil ann, stopfaidh Rust a fhorghníomhú agus diúltóidh sé
ar aghaidh. Déanaimis iarracht é agus féach:</p>
<pre><code class="language-console">$ cargo run
   Compiling panic v0.1.0 (file:///projects/panic)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.27s
     Running `target/debug/panic`
thread 'main' panicked at src/main.rs:4:6:
index out of bounds: the len is 3 but the index is 99
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>Léiríonn an earráid seo líne 4 dár <em>main.rs</em> áit a ndéanaimid iarracht an t-innéacs a rochtain
<code>99</code> den veicteoir in <code>v</code>.</p>
<p>Insíonn an líne <code>nóta:</code> dúinn gur féidir linn an timpeallacht <code>RUST_BACKTRACE</code> a shocrú
athróg chun aisrian a fháil ar cad go díreach a tharla chun an earráid a chur faoi deara. A
Is éard atá i <em>backtrace</em> ná liosta de na feidhmeanna go léir a glaodh chun é seo a bhaint amach
pointe. Oibríonn backtraces in Rust mar a dhéanann siad i dteangacha eile: an eochair do
Is é an t-aisrian a léamh ná tosú ón mbarr agus léamh go dtí go bhfeiceann tú comhaid leat
scríobh. Sin an áit a dtáinig an fhadhb. Na línte os cionn an spota sin
an cód a d'iarr do chód; tá na línte thíos cód a dtugtar do
cód. D'fhéadfadh go n-áireofaí ar na línte roimh agus tar éis croíchód Rust, caighdeánach
cód leabharlainne, nó cliathbhoscaí atá in úsáid agat. Déanaimis iarracht cúl-lorg a fháil
ag socrú an athróg timpeallachta <code>RUST_BACKTRACE</code> chuig aon luach seachas <code>0</code>.
Léiríonn liostú 9-2 aschur atá cosúil leis an méid a fheicfidh tú.</p>
<!-- manual-regeneration
cd listings/ch09-error-handling/listing-09-01
RUST_BACKTRACE=1 cargo run
copy the backtrace output below
check the backtrace number mentioned in the text below the listing
-->
<Listing number="9-2" caption="The backtrace generated by a call to `panic!` displayed when the environment variable `RUST_BACKTRACE` is set">
<pre><code class="language-console">$ RUST_BACKTRACE=1 cargo run
thread 'main' panicked at src/main.rs:4:6:
index out of bounds: the len is 3 but the index is 99
stack backtrace:
   0: rust_begin_unwind
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/std/src/panicking.rs:662:5
   1: core::panicking::panic_fmt
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/panicking.rs:74:14
   2: core::panicking::panic_bounds_check
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/panicking.rs:276:5
   3: &lt;usize as core::slice::index::SliceIndex&lt;[T]&gt;&gt;::index
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/slice/index.rs:302:10
   4: core::slice::index::&lt;impl core::ops::index::Index&lt;I&gt; for [T]&gt;::index
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/slice/index.rs:16:9
   5: &lt;alloc::vec::Vec&lt;T,A&gt; as core::ops::index::Index&lt;I&gt;&gt;::index
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/alloc/src/vec/mod.rs:2920:9
   6: panic::main
             at ./src/main.rs:4:6
   7: core::ops::function::FnOnce::call_once
             at /rustc/f6e511eec7342f59a25f7c0534f1dbea00d01b14/library/core/src/ops/function.rs:250:5
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.
</code></pre>
</Listing>
<p>Sin go leor aschur! D'fhéadfadh an t-aschur cruinn a fheiceann tú a bheith difriúil ag brath
ar do chóras oibriúcháin agus leagan Rust. D'fhonn backtracks a fháil leis seo
faisnéis, ní mór siombailí dífhabhtaithe a chumasú. Tá siombailí dífhabhtaithe cumasaithe ag
réamhshocraithe nuair a úsáidtear <code>cargo build</code> nó <code>cargo run</code> gan an bhratach <code>--release</code>,
mar atá againn anseo.</p>
<p>San aschur i Liostú 9-2, léiríonn líne 6 den chúlrian go dtí an líne inár
tionscadal is cúis leis an bhfadhb: líne 4 de <em>src/main.rs</em>. Más rud é nach bhfuil muid ag iarraidh
ár gclár chun scaoll, ba chóir dúinn tús a chur lenár n-imscrúdú ag an suíomh a luaitear
go dtí an chéad líne ina luaitear comhad a scríobh muid. I Liosta 9-1, áit a bhfuilimid
scríobh d'aon ghnó cód a bheadh ​​scaoll, is é an bealach a shocrú ar an scaoll gan
iarraidh eilimint thar raon na n-innéacsanna veicteora. Nuair a bheidh do cód
scaoll amach anseo, beidh ort a dhéanamh amach cén gníomh atá á dhéanamh ag an gcód
cad iad na luachanna is cúis leis an scaoll agus cad ba cheart don chód a dhéanamh ina ionad sin.</p>
<p>Tiocfaidh muid ar ais chuig <code>panic!</code> agus nuair ba cheart agus nár cheart dúinn <code>panic!</code> a úsáid chun
láimhseáil coinníollacha earráide sa [“Chun <code>panic!</code> nó Gan
<code>panic!</code>”][go-scaoll-nó-ní-scaoll]<!-- neamhaird a dhéanamh ar --> alt níos déanaí sa mhír seo
caibidil. Ansin, féachfaimid ar conas a ghnóthú ó earráid ag baint úsáide as <code>Result</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch09-00-error-handling.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ch09-02-recoverable-errors-with-result.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch09-00-error-handling.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ch09-02-recoverable-errors-with-result.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="src/css/ferris.js"></script>


    </div>
    </body>
</html>
