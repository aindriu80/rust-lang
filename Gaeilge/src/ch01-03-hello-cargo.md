## Dia duit, Cargo!

Is é Cargo córas tógála Rust agus bainisteoir pacáiste. Úsáideann an chuid is mó de na Rustaceans an uirlis seo
a dtionscadail Rust a bhainistiú mar go láimhseálann Cargo go leor tascanna duit,
mar shampla do chód a thógáil, na leabharlanna a bhraitheann do chód a íoslódáil, agus
ag tógáil na leabharlanna sin. (Tugaimid na leabharlanna a bhfuil do chód de dhíth orthu
_spleáchais_.)

Na cláir Rust is simplí, cosúil leis an gceann atá scríofa againn go dtí seo, níl aon cheann acu
spleáchais. Dá mbeadh an "Dia duit, domhan!" tionscadal le Cargo, bheadh
ná húsáid ach an chuid de Cargo a láimhseálann tógáil do chód. Agus tú ag scríobh níos mó
cláir chasta Rust, cuirfidh tú spleáchais leis, agus má thosaíonn tú ar thionscadal
ag baint úsáide as Cargo, beidh sé i bhfad níos éasca spleáchais a chur leis.

Toisc go n-úsáideann formhór mór na dtionscadal Rust Cargo, an chuid eile den leabhar seo
glacann sé leis go bhfuil Cargo á úsáid agat freisin. Tagann Cargo suiteáilte le Rust má tá tú
úsáid na suiteálaithe oifigiúla a pléadh sa
[“Suiteáil”][suiteáil]<!-- neamhaird a dhéanamh ar --> alt. Má shuiteáil tú Rust
trí mhodh éigin eile, seiceáil an bhfuil Cargo suiteáilte ag dul isteach sa
seo a leanas i do chríochfort:

```console
$ cargo --version
```
Má fheiceann tú uimhir leagain, tá sé agat! Má fheiceann tú earráid, mar `ordú
níor aimsíodh`, féach ar an doiciméadú le haghaidh do mhodh suiteála go
a chinneadh conas Cargo a shuiteáil ar leithligh.

### Tionscadal a Chruthú le Cargo

Déanaimis tionscadal nua a chruthú ag baint úsáide as Cargo agus féachaint ar an difríocht atá idir é agus ár gcuid
bunaidh "Dia duit, domhan!" tionscadal. Téigh ar ais chuig d'eolaire _projects_
(nó cibé áit ar shocraigh tú do chód a stóráil). Ansin, ar aon chóras oibriúcháin,
reáchtáil an méid seo a leanas:

```console
$ cargo new hello_cargo
$ cd hello_cargo
```


Cruthaíonn an chéad ordú eolaire agus tionscadal nua ar a dtugtar _hello_cargo_.
Tá ár dtionscadal ainmnithe againn mar _hello_cargo_, agus cruthaíonn Cargo a chomhaid in a
eolaire den ainm céanna.

Téigh isteach san eolaire _hello_cargo_ agus liostaigh na comhaid. Feicfidh tú an Cargo sin
tá dhá chomhad agus eolaire amháin ginte againn dúinn: comhad _Cargo.toml_ agus a
eolaire _src_ le comhad _main.rs_ istigh.

Chuir sé tús le stór nua Git chomh maith le comhad _.gitignore_.
Ní ghinfear comhaid Git má ritheann tú `cargo new` laistigh de Git atá ann cheana féin
stór ; is féidir leat an t-iompar seo a shárú trí úsáid a bhaint as `cargo new --vcs=git`.

> Nóta: Is córas rialaithe leagan coitianta é Git. Is féidir leat `cargo new` a athrú go
> córas rialaithe leagan difriúil nó córas rialaithe leagan ar bith a úsáid trí úsáid a bhaint as
> an bhratach `--vcs`. Rith `cargo new --help` chun na roghanna atá ar fáil a fheiceáil.

Oscail _Cargo.toml_ i do rogha eagarthóir téacs. Ba chóir breathnú cosúil leis an
cód i Liostú 1-2.

<Listing number="1-2" file-name="Cargo.toml" caption="Contents of *Cargo.toml* generated by `cargo new`">

```toml
[package]
name = "hello_cargo"
version = "0.1.0"
edition = "2021"

# Féach tuilleadh eochracha agus a sainmhínithe ag https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
```

</Listing>

Tá an comhad seo sa [_TOML_][toml]<!-- neamhaird a dhéanamh ar --> (_Tom Soiléir, Íosráta
Language_) formáid, is é sin formáid chumraíochta Cargo.

Is ceannteideal rannóige í an chéad líne, `[package]`, a thugann le fios go bhfuil an
ráitis seo a leanas ag chumrú pacáiste. De réir mar a chuirimid tuilleadh eolais le
an comhad seo, cuirfimid ailt eile leis.

Leagann na chéad trí líne eile an fhaisnéis chumraíochta a chaithfidh Cargo a thiomsú
do chlár: an t-ainm, an leagan, agus an t-eagrán de Rust le húsáid. Labhróimid
faoin eochair `edition` in [Aguisín E][aguisín-e] <!-- neamhaird a dhéanamh -->.

Is í an líne dheireanach, `[dependencies]`, tús rannáin chun tú a liostú
de spleáchais do thionscadal. I Rust, tagraítear do phacáistí cód mar
_crates_. Ní bheidh aon cliathbhoscaí eile ag teastáil uainn don tionscadal seo, ach beidh muid sa
an chéad tionscadal i gCaibidil 2, mar sin úsáidfimid an rannán spleáchais seo ansin.

Anois oscail _src/main.rs_ agus féach:

<span class="filename">Ainm comhaid: src/main.rs</span>

```rust
fn main() {
    println!("Dia duit, an domhan!");
}
```

Tá Cargo tar éis "Dia duit, domhan!" clár duitse, díreach cosúil leis an gceann atá againn
scríofa i Liostú 1-1! Go dtí seo, na difríochtaí idir ár dtionscadal agus an
tionscadal Cargo ginte is ea gur chuir Cargo an cód san eolaire _src_
agus tá comhad cumraíochta _Cargo.toml_ againn san eolaire barr.

Tá súil ag Cargo go mbeidh do chuid comhad foinse beo laistigh den eolaire _src_. Tá an
níl eolaire tionscadail ardleibhéil ann ach do chomhaid README, faisnéis ceadúnais,
comhaid cumraíochta, agus aon rud eile nach mbaineann le do chód. Ag baint úsáide as Cargo
chuidíonn leat do thionscadail a eagrú. Tá áit do gach rud, agus
tá gach rud ina áit.

Má thosaigh tú ar thionscadal nach n-úsáideann Cargo, mar a rinne muid leis an "Dia duit,
domhan!" tionscadal, is féidir leat é a thiontú go tionscadal a úsáideann Cargo. Bog an
cód an tionscadail isteach san eolaire _src_ agus cruthaigh _Cargo.toml_ cuí
comhad. Bealach éasca amháin chun an comhad _Cargo.toml_ sin a fháil ná `cargo init` a rith, rud a
cruthóidh sé duit go huathoibríoch é.

### Tionscadal Cargo a Thógáil agus a Reáchtáil

Anois breathnaímid ar cad atá difriúil nuair a thógaimid agus a ritheann muid an “Dia duit, an domhan!”
clár le Cargo! Ó d'eolaire _hello_cargo_, cuir do thionscadal le chéile
ag dul isteach an t-ordú seo a leanas:

```console
$ cargo build
   Compiling hello_cargo v0.1.0 (file:///projects/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 2.85 secs
```

Cruthaíonn an t-ordú seo comhad inrite i _target/debug/hello_cargo_ (nó
_target\debug\hello_cargo.exe_ ar Windows) seachas i do reatha
eolaire. Toisc gur tógáil dífhabhtaithe é an tógáil réamhshocraithe, cuireann Cargo an dénártha isteach
eolaire darb ainm _debug_. Is féidir leat an inrite a rith leis an ordú seo:

```console
$ ./target/debug/hello_cargo # or .\target\debug\hello_cargo.exe on Windows
Dia duit, an domhan!
```

Má éiríonn go maith leis, ba cheart do `Dia duit, an domhan!` priontáil chuig an teirminéal. Ag rith `cargo
build` don chéad uair freisin is cúis le Cargo comhad nua a chruthú ag an mbarr
leibhéal: _Cargo.lock_. Coinníonn an comhad seo súil ar na leaganacha cruinne de
spleáchais i do thionscadal. Níl spleáchais ag an tionscadal seo, mar sin de
comhad beagán tanaí. Ní bheidh ort an comhad seo a athrú de láimh riamh; Cargo
bainistíonn sé a bhfuil ann duit.

Thógamar tionscadal le `cargo build` agus rith sé leis
`./target/debug/hello_cargo`, ach is féidir linn `cargo run` a úsáid freisin chun an
cód agus ansin rith an inrite iarmhartach uile in aon ordú amháin:

```console
$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.0 secs
     Running `target/debug/hello_cargo`
Dia duit, an domhan!
```

Tá sé níos áisiúla `cargo run` a úsáid ná cuimhneamh ar `cargo build` 
agus ansin bain úsáid as an cosán iomlán chuig an dénártha, mar sin úsáideann an chuid is mó forbróirí 
`cargo run`.

Tabhair faoi deara nach bhfaca muid aschur an uair seo a thugann le fios go raibh Cargo á thiomsú
`hello_cargo`. Fuair ​​Cargo amach nár athraigh na comhaid, mar sin níor athraigh
atógáil ach rith an dénártha. Má d'athraigh tú do chód foinseach, Cargo
go mbeadh an tionscadal atógtha agat roimh é a rith, agus bheadh ​​sé seo feicthe agat
aschur:

```console
$ cargo run
   Compiling hello_cargo v0.1.0 (file:///projects/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 0.33 secs
     Running `target/debug/hello_cargo`
Dia duit, an domhan!
```

Soláthraíonn Cargo ordú freisin ar a dtugtar `cargo check`. Seiceálann an t-ordú seo go tapa
do chód chun a chinntiú go dtiomsaíonn sé ach nach dtáirgtear cód inrite:

```console
$ cargo check
   Checking hello_cargo v0.1.0 (file:///projects/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 0.32 secs
```

Cén fáth nach mbeadh inrite uait? Go minic, bíonn `cargo check` i bhfad níos tapúla ná
`cargo build` toisc go scipeann sé an chéim chun inrite a tháirgeadh. Má tá tú
do chuid oibre a sheiceáil go leanúnach agus an cód á scríobh, ag baint úsáide as `cargo check`
dlús a chur leis an bpróiseas chun tú a chur ar an eolas an bhfuil do thionscadal fós á chur le chéile! Mar
mar sin, ritheann go leor Rustaceans `cargo check` go tréimhsiúil agus iad ag scríobh a gcuid
clár chun a chinntiú go dtiomsaíonn sé. Ansin ritheann siad `cargo build` nuair a bhíonn siad
réidh le húsáid an inrite.

Gabhaimis siar a bhfuil foghlamtha againn go dtí seo faoi Cargo:

- Is féidir linn tionscadal a chruthú ag baint úsáide as `cargo new`.
- Is féidir linn tionscadal a thógáil ag baint úsáide as `cargo build`.
- Is féidir linn tionscadal a thógáil agus a reáchtáil in aon chéim amháin ag baint úsáide as `cargo run`.
- Is féidir linn a thógáil le tionscadal gan a tháirgeadh dénártha a sheiceáil le haghaidh earráidí ag baint úsáide as
  `cargo check`.
- In ionad toradh na tógála a shábháil san eolaire céanna lenár gcód,
 Stórálann Cargo é san eolaire _target/debug_.

Buntáiste breise a bhaineann le Cargo a úsáid ná go bhfuil na horduithe mar an gcéanna uimh
cuma cén córas oibriúcháin a bhfuil tú ag obair air. Mar sin, ag an bpointe seo, ní bheidh muid
treoracha sonracha a sholáthar níos faide le haghaidh Linux agus macOS i gcoinne Windows.

### Ag Tógáil le haghaidh Eisiúint

Nuair a bheidh do thionscadal réidh le scaoileadh faoi dheireadh, is féidir leat  a úsáid `cargo build
--release` chun é a thiomsú le optimizations. Cruthóidh an t-ordú seo an
inrite in _target/release_ in ionad _target/debug_. Na optimizations
déan do chód meirge a rith níos tapúla, ach má chuirtear ar siúl iad, méadaítear an t-am a thógann sé
chun do chlár a thiomsú. Sin é an fáth go bhfuil dhá phróifíl éagsúla ann: ceann amháin
le haghaidh forbartha, nuair is mian leat a atógáil go tapa agus go minic, agus ceann eile le haghaidh
ag tógáil an chláir deiridh a thabharfaidh tú d'úsáideoir nach ndéanfar é a atógáil
arís agus arís eile agus rithfidh sin chomh tapa agus is féidir. Má tá do chuid tagarmharcála á dhéanamh agat
am reatha an chóid, bí cinnte go ritheann tú `cargo build --release` agus tagarmharcáil leis
an inrite i _target/release_.

### Cargo mar Choinbhinsiún

Le tionscadail shimplí, ní sholáthraíonn Cargo mórán luach seachas úsáid a bhaint as
`rustc`, ach cruthóidh sé a fhiúntas de réir mar a éiríonn do chláir níos casta.
Nuair a fhásann cláir go comhaid iolracha nó nuair a bhíonn spleáchas ag teastáil uathu, tá sé i bhfad níos éasca é a dhéanamh
lig do Cargo an tógáil a chomhordú.

Cé go bhfuil an tionscadal `hello_cargo` simplí, úsáideann sé go leor den réadúlacht anois
uirlisí a úsáidfidh tú sa chuid eile de do ghairm bheatha Rust. Go deimhin, a bheith ag obair ar aon
tionscadail atá ann cheana féin, is féidir leat úsáid a bhaint as na horduithe seo a leanas a sheiceáil amach an cód
ag baint úsáide as Git, athraigh chuig eolaire an tionscadail sin, agus tóg:

```console
$ git clone example.org/someproject
$ cd someproject
$ cargo build
```

Chun tuilleadh eolais a fháil faoi Cargo, seiceáil [a dhoiciméadú][cargo].

## Achoimre

Tá tús iontach curtha agat le do thuras Rust cheana féin! Sa chaibidil seo,
d'fhoghlaim tú conas:

- Suiteáil an leagan cobhsaí is déanaí de Rust ag baint úsáide as `rustup`
- Nuashonraigh go leagan Rust níos nuaí
- Oscail doiciméadú suiteáilte go háitiúil
- Scríobh agus rith "Dia duit, a domhan!" clár ag baint úsáide as `rustc` go díreach
- Cruthaigh agus rith tionscadal nua ag baint úsáide as coinbhinsiúin Cargo

Is iontach an tráth é seo le clár níos substaintiúla a chur le chéile chun dul i dtaithí ar an léitheoireacht
agus cód Rust á scríobh. Mar sin, i gCaibidil 2, tógfaimid clár cluiche tomhais.
Más fearr leat tosú ag foghlaim conas a oibríonn coincheapa ríomhchláraithe coitianta
Meirge, féach Caibidil 3 agus ansin ar ais go Caibidil 2.

[suiteáil]: ch01-01-installation.html#installation
[toml]: https://toml.io
[aguisín-e]: aguisín-05-eagráin.html
[cargo]: https://doc.rust-lang.org/cargo/




































































































































































